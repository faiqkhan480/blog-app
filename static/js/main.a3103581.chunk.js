(this.webpackJsonpblog_app=this.webpackJsonpblog_app||[]).push([[0],{59:function(e,t,a){e.exports=a(92)},68:function(e,t,a){},69:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),c=a.n(r),l=a(17),s=a(24),i=a(50),u=a(57),p=a(31),d={data:[],details:{},loading:!0,key:!0},m=(a(68),a(12)),h=a(13),b=a(15),y=a(14),f=a(16),g=(a(69),a(22)),E=a(18),v=a(9),j=a.n(v),O=a(20),k=a(26),w=a.n(k),x=function(e){return function(){var t=Object(O.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e)).then((function(e){a({type:"DETAILS",payload:e.data})})).catch((function(e){console.log(e,"from get the posts")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=a(94),I=a(95),S=a(96),N=a(53),D=a(99),T=a(100),P=function(e){function t(){return Object(m.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.posts,"mount"),this.props.stateKey&&this.props.dispatch(function(){var e=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://jsonplaceholder.typicode.com/posts").then((function(e){t({type:"POSTS",payload:e.data})})).catch((function(e){console.log(e,"from get the posts")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"setPostId",value:function(e){localStorage.setItem("postId",e)}},{key:"handleDelete",value:function(e){this.props.dispatch(function(e){return{type:"DEL_ITEMS",payload:e}}(e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.posts,n=t.loading;return o.a.createElement("div",null,o.a.createElement(C.a,{className:"App"},n?o.a.createElement(C.a,{className:"App-Loading"},o.a.createElement(I.a,{animation:"border",variant:"primary",style:{width:"9rem",height:"9rem"}})):o.a.createElement(S.a,null,a.map((function(t,a){return o.a.createElement(N.a,{key:a,lg:4,md:6,sm:12,xs:12},o.a.createElement(D.a,{key:a,border:"primary",className:"my-2"},o.a.createElement(D.a.Header,null,"User: ",t.userId),o.a.createElement(D.a.Body,null,o.a.createElement(D.a.Title,null,t.title),o.a.createElement(g.b,{to:"/details",onClick:e.setPostId.bind(e,t.id),className:"link btn btn-link"},"Details")),o.a.createElement(D.a.Body,null,o.a.createElement(T.a,{href:"/form",onClick:e.setPostId.bind(e,t.id),variant:"primary",className:"m-3 w-25"},"Edit"),o.a.createElement(T.a,{variant:"danger",onClick:e.handleDelete.bind(e,t.id),className:"m-3 w-25"},"Delete"))))})))))}}]),t}(n.Component),A=Object(l.b)((function(e){return{posts:e.data,loading:e.loading,stateKey:e.key}}))(P),L=function(e){function t(){return Object(m.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("postId");console.log(e,"id-==-=-"),console.log(this.props.data,"data-==-=-"),this.props.dispatch(x(e))}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.loading;return console.log(a,"loading"),o.a.createElement(C.a,{className:"text-center my-5"},a?o.a.createElement(C.a,{className:"App-Loading"},o.a.createElement(I.a,{animation:"border",variant:"primary",style:{width:"9rem",height:"9rem"}})):o.a.createElement(D.a,{border:"info"},o.a.createElement(D.a.Body,null,o.a.createElement(D.a.Title,null,t.title),o.a.createElement(D.a.Subtitle,{className:"mb-2 text-muted"},"User: ",t.userId),o.a.createElement(D.a.Text,null,t.body),o.a.createElement(T.a,{variant:"outline-primary",color:"danger",className:"mx-3"},"Edit"),o.a.createElement(T.a,{variant:"outline-danger",className:"mx-3"},"Delete"))))}}]),t}(n.Component),B=Object(l.b)((function(e){return{data:e.data,post:e.details,loading:e.key}}))(L),U=a(29),M=a(98),G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(b.a)(this,Object(y.a)(t).call(this,e))).state={id:localStorage.getItem("postId"),userId:"",title:"",body:""},console.log("constructor runs"),a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.id){e.next=5;break}return e.next=3,this.props.dispatch(x(this.state.id));case 3:console.log(this.props,"componetDidMount"),this.setState({userId:this.props.post.userId,title:this.props.post.title,body:this.props.post.body});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(U.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.history;if(this.state.id){var a={userId:this.state.userId,title:this.state.title,body:this.state.body};this.props.dispatch(function(e,t,a){return function(){var n=Object(O.a)(j.a.mark((function n(o){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.a.put("https://jsonplaceholder.typicode.com/posts/".concat(e),t).then((function(e){console.log("update post action"),o({type:"UPDATE",payload:e.data}),a.push("/")})).catch((function(e){console.log(e,"from get the posts")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(this.state.id,a,t))}else{var n={title:this.state.title,body:this.state.body};this.props.dispatch(function(e,t){return function(){var a=Object(O.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e,"action post"),a.next=3,w.a.post("https://jsonplaceholder.typicode.com/posts",e).then((function(e){console.log("update post action"),n({type:"CREATE",payload:e.data}),t.push("/")})).catch((function(e){console.log(e,"from new the posts")}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,t))}}},{key:"render",value:function(){var e=this.props,t=(e.post,e.loading),a=this.state,n=a.id,r=a.userId,c=a.title,l=a.body;return o.a.createElement(C.a,{className:"text-center my-5"},t?o.a.createElement(C.a,{className:"App-Loading"},o.a.createElement(I.a,{animation:"border",variant:"primary",style:{width:"9rem",height:"9rem"}})):o.a.createElement(M.a,{onSubmit:this.handleSubmit.bind(this)},n?o.a.createElement(M.a.Group,null,o.a.createElement(M.a.Label,null,"User Id"),o.a.createElement(M.a.Control,{type:"text",name:"userId",value:r,onChange:this.handleChange.bind(this),placeholder:"User Id"})):"",o.a.createElement(M.a.Group,null,o.a.createElement(M.a.Label,null,"Post Title"),o.a.createElement(M.a.Control,{type:"text",name:"title",value:c,onChange:this.handleChange.bind(this),placeholder:"Title"})),o.a.createElement(M.a.Group,null,o.a.createElement(M.a.Label,null,"Post"),o.a.createElement(M.a.Control,{as:"textarea",rows:"5",name:"body",value:l,onChange:this.handleChange.bind(this),placeholder:"Post"})),o.a.createElement(T.a,{variant:"primary",type:"submit"},"Submit")))}}]),t}(n.Component),_=Object(l.b)((function(e){return{post:e.details,loading:e.loading}}))(G),H=a(97),J=function(e){function t(){return Object(m.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(){localStorage.clear()}},{key:"render",value:function(){return o.a.createElement(C.a,{fluid:!0,className:"shadow-sm mb-b sticky-top bg-white"},o.a.createElement(H.a,null,o.a.createElement(H.a.Brand,{href:"/"},"Home"),o.a.createElement(H.a.Collapse,{className:"justify-content-end"},o.a.createElement(g.b,{to:"/form",onClick:this.handleClick.bind(this)},"Create New Post"))))}}]),t}(n.Component),K=function(e){function t(){return Object(m.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,null,o.a.createElement(J,null),o.a.createElement(E.c,null,o.a.createElement(E.a,{exact:!0,component:A,path:"/"}),o.a.createElement(E.a,{exact:!0,component:B,path:"/details"}),o.a.createElement(E.a,{exact:!0,component:_,path:"/form"}),o.a.createElement(E.a,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(91);var R=Object(s.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS":return Object(p.a)({},e,{data:t.payload,loading:!1});case"DETAILS":return Object(p.a)({},e,{details:t.payload,key:!1});case"UPDATE":var a=e.data.map((function(e){return e.id===t.payload.id?(console.log(t.payload,"console post map=-=-=-"),t.payload):e}));return{post:a};case"CREATE":return console.log(t.payload,"action.payload"),Object(p.a)({},e,{data:[t.payload].concat(Object(u.a)(e.data)),key:!1});default:return e}}),Object(s.a)(i.a));c.a.render(o.a.createElement(l.a,{store:R},o.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.a3103581.chunk.js.map